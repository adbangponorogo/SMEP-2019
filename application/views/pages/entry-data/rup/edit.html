<div class="col-md-12">
	<div class="box box-primary">
		<div class="box-header with-border">
			<div class="col-md-12">
				<h3 class="box-title">Form Data</h3>
				<div class="box-tools pull-right">
			        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-plus"></i></button>
			    </div>
			</div>
		</div>
		<div class="box-body rupenda-body-form">
			<form action="#" method="POST" class="rupenda-edit-form">
				<div class="col-md-12">
					<div class="col-md-12">
						<h3 class="page-header" style="font-size: 15px;"><b>Rencana Pengadaan</b></h3>
						<div class="col-md-3">
							<div class="form-group" style="padding: 10px 0px;"><b>Program</b></div>
						</div>
						<div class="col-md-9">
							<div class="form-group">
								<input type="text" class="form-control rupenda-program-edit" placeholder="Program" readonly="readonly">
							</div>
						</div>
					</div>
					<div class="col-md-12">
						<div class="col-md-3">
							<div class="form-group" style="padding: 10px 0px;"><b>Kegiatan</b></div>
						</div>
						<div class="col-md-9">
							<div class="form-group">
								<input type="text" class="form-control rupenda-kegiatan-edit" placeholder="Kegiatan" readonly="readonly">
							</div>
						</div>
					</div>
					<div class="col-md-12">
						<div class="col-md-3">
							<div class="form-group" style="padding: 10px 0px;"><b>Rincian Obyek</b></div>
						</div>
						<div class="col-md-9">
							<div class="form-group">
								<input type="text" class="form-control rupenda-rincianobyek-edit" placeholder="Rincian Obyek" readonly="readonly">
							</div>
						</div>
					</div>
					<div class="col-md-12">
						<div class="col-md-3">
							<div class="form-group" style="padding: 10px 0px;"><b>M.A.K</b></div>
						</div>
						<div class="col-md-9">
							<input type="text" class="form-control rupenda-kdurusan-edit" readonly="readonly" style="float: left; width: 10%; text-align: center;">
							<input type="text" class="form-control rupenda-kdbidang-edit" readonly="readonly" style="float: left; width: 10%; text-align: center;">
							<input type="text" class="form-control rupenda-kdopd-edit" readonly="readonly" style="float: left; width: 30%; text-align: center;">
							<input type="text" class="form-control rupenda-kdprogram-edit" readonly="readonly" style="float: left; width: 10%; text-align: center;">
							<input type="text" class="form-control rupenda-kdkegiatan-edit" readonly="readonly" style="float: left; width: 10%; text-align: center;">
							<input type="text" class="form-control rupenda-kdrekening-edit" readonly="readonly" style="float: left; width: 30%; text-align: center;">
						</div>
					</div>
				</div>
				<div class="col-md-12" style="margin-top: 30px;">
					<div class="col-md-12">
						<h3 class="page-header" style="font-size: 15px;"><b>Form Data RUP</b></h3>
						<div class="col-md-6" style="padding: 0px 5px; padding-right: 20px;">
							<div class="form-group">
								<label>Nama PPK</label>
								<input type="text" class="form-control rupenda-user-ppk-edit" placeholder="Nama Pejabat Pembuat Komitmen" readonly="readonly">
							</div>
							<div class="form-group">
								<label>Nama Paket *</label>
								<input type="text" name="nama_paket" class="form-control rupenda-nama-paket-edit" placeholder="Nama Paket">
							</div>
							<div class="form-group">
								<label>Volume Pekerjaan *</label>
								<input type="text" name="volume_pekerjaan" class="form-control rupenda-volume-pekerjaan-edit" placeholder="Volume Paket">
							</div>
							<div class="form-group">
								<label>Cara Pengadaan</label>
								<input type="text" class="form-control rupenda-cara-pengadaan-edit" placeholder="Cara Pengadaan" readonly="readonly">
								<input type="hidden" name="cara_pengadaan" class="rupenda-real-cara-pengadaan-edit">
							</div>
							<div class="form-group">
								<label>
									Tipe Swakelola&nbsp;
									<span class="label bg-blue color-pallete smep-rupenda-swakelola-btn" style="cursor: pointer;">
										<i class="fa fa-question"></i>
									</span>
								</label>
								<select name="tipe_swakelola" class="form-control rupenda-tipe-swakelola-edit">
									<option value="1">Swakelola Tipe 1</option>
									<option value="2">Swakelola Tipe 2</option>
									<option value="3">Swakelola Tipe 3</option>
									<option value="4">Swakelola Tipe 4</option>
								</select>
							</div>
							<div class="form-group">
								<label>Jenis Belanja</label>
								<select name="jenis_belanja" class="form-control rupenda-jenis-belanja-edit">
									<option value="1">Belanja Pegawai</option>
									<option value="2">Belanja Barang/Jasa</option>
									<option value="3">Belanja Modal</option>
									<option value="4">Belum Teridentifikasi</option>
									<option value="5">Belanja Bunga Utang</option>
									<option value="6">Belanja Subsidi</option>
									<option value="7">Belanja Hibah</option>
									<option value="8">Belanja Bantuan Sosial</option>
									<option value="9">Belanja Lain-Lain</option>
								</select>
							</div>
							<div class="form-group">
								<label>Uraian Pekerjaan</label>
								<textarea name="uraian_pekerjaan" class="form-control rupenda-uraian-pekerjaan-edit" placeholder="Uraian Pekerjaan" style="min-width: 100%; max-width: 100%; min-height:93px; max-height: 93px;"></textarea>
							</div>
						</div>
						<div class="col-md-6" style="padding: 0px 5px; padding-left: 20px;">
							<div class="form-group">
								<label>Lokasi Pekerjaan</label>
								<input type="text" name="lokasi_pekerjaan" class="form-control rupenda-lokasi-pekerjaan-edit" placeholder="Lokasi Pekerjaan">
							</div>
							<div class="form-group">
								<label>Pagu Pekerjaan *</label>
								<input type="number" name="pagu_paket" class="form-control rupenda-pagu-pekerjaan-edit" placeholder="0" min="0">
								<input type="hidden" class="rupenda-real-pagu-pekerjaan-edit">
								<input type="hidden" class="rupenda-max-pagu-edit">
							</div>
							<div class="form-group">
								<label>Pra DIPA/DPA</label>
								<select name="pra_dipa" class="form-control rupenda-pra-dipa-edit">
									<option value="0">Ya</option>
									<option value="1">Tidak</option>
								</select>
							</div>
							<div class="form-group">
								<label>Nomor Renja</label>
								<input type="text" name="nomor_renja" class="form-control rupenda-nomor-renja-edit" placeholder="Nomor Renja">
							</div>
							<div class="form-group">
								<label>Sumber Dana</label>
								<select name="sumber_dana" class="form-control rupenda-sumber-dana-edit">
									<option value="1">APBD</option>
									<option value="2">APBDP</option>
									<option value="3">APBN</option>
									<option value="4">APBNP</option>
									<option value="5">BLU</option>
									<option value="6">BLUD</option>
									<option value="7">BUMD</option>
									<option value="8">BUMN</option>
									<option value="9">PHLN</option>
									<option value="10">PNBP</option>
									<option value="11">Lainnya</option>
								</select>
							</div>
							<div class="form-group">
								<label>Produk Dalam Negeri</label>
								<select name="produk_dalam_negeri" class="form-control rupenda-pdn-edit">
									<option value="0">Ya</option>
									<option value="1">Tidak</option>
								</select>
							</div>
							<div class="form-group">
								<label>Usaha Kecil</label>
								<select name="usaha_kecil" class="form-control rupenda-usaha-kecil-edit">
									<option value="0">Ya</option>
									<option value="1">Tidak</option>
								</select>
							</div>
							<div class="form-group">
								<label>Umumkan Paket</label>
								<select name="umumkan_paket" class="form-control rupenda-umumkan-paket-edit">
									<option value="0">Ya</option>
									<option value="1">Tidak</option>
								</select>
							</div>
						</div>
					</div>
				</div>	
				<div class="col-md-12" style="margin-top: 30px;">
					<div class="col-md-12">
						<h3 class="page-header" style="font-size: 15px;"><b>TEPRA</b></h3>
						<div class="col-md-12">
							<div class="form-group">
								<label>Jumlah Paket *</label>
								<input type="number" name="jumlah_paket" class="form-control rupenda-jumlah-paket-edit" min="0" placeholder="0">
							</div>
							<div class="form-group">
								<label>Jenis Pengadaan</label>
								<select name="jenis_pengadaan" class="form-control rupenda-jenis-pengadaan-edit">
									<option value="1">Barang</option>
									<option value="2">Konstruksi</option>
									<option value="3">Jasa Konsultasi</option>
									<option value="4">Jasa Lainnya</option>
								</select>
							</div>
							<div class="form-group">
								<label>Metode Pemilihan</label>
								<select name="metode_pemilihan" class="form-control rupenda-metode-pemilihan-edit">
									<option value="1">E-Purchasing</option>
									<option value="2">Tender</option>
									<option value="3">Tender Cepat</option>
									<option value="4">Pengadaan Langsung</option>
									<option value="5">Penunjukkan Langsung</option>
									<option value="6">Seleksi</option>
								</select>
							</div>
						</div>
					</div>
				</div>
				<div class="col-md-12" style="margin-top: 30px;">
					<div class="col-md-12 rupenda-jadwal-pekerjaan-penyedia-edit">
						<h3 class="page-header" style="font-size: 15px;"><b>Jadwal Pengadaan</b></h3>
						<div class="col-md-4">
							<h3 class="page-header" style="font-size: 15px;"><b>Pelaksanaan Pengadaan</b></h3>
							<div class="form-group">
								<label>Mulai *</label>
								<input type="text" name="pelaksanaan_pengadaan_awal" class="form-control month-picker rupenda-pelaksanaan-pengadaan-awal-edit">
								<input type="hidden" class="rupenda-real-pelaksanaan-pengadaan-awal-edit">
							</div>
							<div class="form-group">
								<label>Selesai *</label>
								<input type="text" name="pelaksanaan_pengadaan_akhir" class="form-control month-picker rupenda-pelaksanaan-pengadaan-akhir-edit">
							</div>
						</div>
						<div class="col-md-4">
							<h3 class="page-header" style="font-size: 15px;"><b>Pelaksanaan Kontrak</b></h3>
							<div class="form-group">
								<label>Mulai *</label>
								<input type="text" name="pelaksanaan_kontrak_awal" class="form-control month-picker rupenda-pelaksanaan-kontrak-awal-edit">
							</div>
							<div class="form-group">
								<label>Selesai *</label>
								<input type="text" name="pelaksanaan_kontrak_akhir" class="form-control month-picker rupenda-pelaksanaan-kontrak-akhir-edit">
							</div>
						</div>
						<div class="col-md-4">
							<h3 class="page-header" style="font-size: 15px;"><b>Mulai Penggunaan</b></h3>
							<div class="form-group">
								<label>Bulan *</label>
								<input type="text" name="pelaksanaan_pemanfaatan" class="form-control month-picker rupenda-mulai-penggunaan-edit">
							</div>
						</div>
					</div>
					<div class="col-md-12 rupenda-jadwal-pekerjaan-swakelola-edit">
						<h3 class="page-header" style="font-size: 15px;"><b>Jadwal Pengadaan</b></h3>
						<div class="col-md-12">
							<h3 class="page-header" style="font-size: 15px;"><b>Pelaksanaan Pekerjaan</b></h3>
							<div class="form-group">
								<label>Mulai *</label>
								<input type="text" name="pelaksanaan_pekerjaan_awal" class="form-control month-picker rupenda-pelaksanaan-pekerjaan-awal-edit">
								<input type="hidden" class="rupenda-real-pelaksanaan-pekerjaan-awal-edit">
							</div>
							<div class="form-group">
								<label>Selesai *</label>
								<input type="text" name="pelaksanaan_pekerjaan_akhir" class="form-control month-picker rupenda-pelaksanaan-pekerjaan-akhir-edit">
							</div>
						</div>
					</div>
				</div>
				<div class="col-md-12">
					<div class="col-md-12">
						<h3 class="page-header"></h3>
						<div class="col-md-12">
							<div class="form-group">
								<input type="hidden" name="token" class="rupenda-token-edit">
								<button class="btn btn-primary smep-rupenda-edit-change-btn">Simpan</button>
								<button class="btn btn-danger smep-rupenda-edit-cancel-btn">Batal</button>
							</div>
						</div>
					</div>
				</div>
			</form>
		</div>
	</div>
</div>

<!-- Javascript -->
<script type="text/javascript">
	jQuery(".month-picker").datepicker({
		format		: 'mm-yyyy',
		viewMode	: 'months',
		minViewMode	: 'months'
	});

	// ---------------- DataEdit ---------------- //
	endaRUPEditData();
	function endaRUPEditData() {
	    jQuery.ajax({
		    type      : 'AJAX',
		    method    : 'GET',
		    url       : 'entry-data/data-rup/edit-data/'+jQuery(".smep-unique-token").val(),
		    async     : true,
		    dataType  : 'JSON',
		    success   : function(JSON){
		    	jQuery(".rupenda-token-edit").val(JSON[0][0]);
		    	jQuery(".rupenda-program-edit").val(JSON[0][1]);
		    	jQuery(".rupenda-kegiatan-edit").val(JSON[0][2]);
		    	jQuery(".rupenda-rincianobyek-edit").val(JSON[0][3]);
		    	jQuery(".rupenda-user-ppk-edit").val(JSON[0][4]);
		    	jQuery(".rupenda-nama-paket-edit").val(JSON[0][5]);
		    	jQuery(".rupenda-volume-pekerjaan-edit").val(JSON[0][6]);
		    	jQuery(".rupenda-jumlah-paket-edit").val(JSON[0][7]);
		    	jQuery(".rupenda-uraian-pekerjaan-edit").val(JSON[0][8]);
		    	jQuery(".rupenda-lokasi-pekerjaan-edit").val(JSON[0][9]);
		    	jQuery(".rupenda-sumber-dana-edit").val(JSON[0][12]).change();
		    	jQuery(".rupenda-pra-dipa-edit").val(JSON[0][13]).change();

		    	if (JSON[0][13] == 0) {
		    		jQuery(".rupenda-nomor-renja-edit").val(JSON[0][14]);
		    	}
		    	if (JSON[0][13] == 1) {
		    		jQuery(".rupenda-nomor-renja-edit").attr("readonly", "readonly");
		    	}

		    	jQuery(".rupenda-kdurusan-edit").val(JSON[0][15]);
		    	jQuery(".rupenda-kdbidang-edit").val(JSON[0][16]);
		    	jQuery(".rupenda-kdopd-edit").val(JSON[0][17]);
		    	jQuery(".rupenda-kdprogram-edit").val(JSON[0][18]);
		    	jQuery(".rupenda-kdkegiatan-edit").val(JSON[0][19]);
		    	jQuery(".rupenda-kdrekening-edit").val(JSON[0][20]);
		    	
		    	jQuery(".rupenda-pagu-pekerjaan-edit").val(JSON[0][21]);
		    	jQuery(".rupenda-real-pagu-pekerjaan-edit").val(JSON[0][21]);
		    	jQuery(".rupenda-max-pagu-edit").val(JSON[0][22]);
		    	jQuery(".rupenda-real-cara-pengadaan-edit").val(JSON[0][23]);
		    	jQuery(".rupenda-cara-pengadaan-edit").val(JSON[0][24]);
			    jQuery(".rupenda-jenis-belanja-edit").val(JSON[0][26]).change();
			    jQuery(".rupenda-jenis-pengadaan-edit").val(JSON[0][27]).change();

		    	if (JSON[0][23] == 1) {
		    		jQuery(".rupenda-tipe-swakelola-edit").prop("disabled", "disabled");
			    	jQuery(".rupenda-metode-pemilihan-edit").val(JSON[0][28]).change();
			    	jQuery(".rupenda-pdn-edit").val(JSON[0][10]).change();
		    		jQuery(".rupenda-usaha-kecil-edit").val(JSON[0][11]).change();
		    		jQuery(".rupenda-jadwal-pekerjaan-swakelola-edit").addClass("hidden-show");
		    		jQuery(".rupenda-real-pelaksanaan-pengadaan-awal-edit").val(JSON[0][30]);
		    		jQuery(".rupenda-pelaksanaan-pengadaan-awal-edit").datepicker('update', JSON[0][30]);
			    	jQuery(".rupenda-pelaksanaan-pengadaan-akhir-edit").datepicker('update', JSON[0][31]);
			    	jQuery(".rupenda-pelaksanaan-kontrak-awal-edit").datepicker('update', JSON[0][32]);
			    	jQuery(".rupenda-pelaksanaan-kontrak-akhir-edit").datepicker('update', JSON[0][33]);
			    	jQuery(".rupenda-mulai-penggunaan-edit").datepicker('update', JSON[0][34]);
		    	}
		    	if (JSON[0][23] == 2) {
		    		jQuery(".rupenda-tipe-swakelola-edit").val(JSON[0][25]).change();
			    	jQuery(".rupenda-metode-pemilihan-edit").prop("disabled", "disabled");
			    	jQuery(".rupenda-pdn-edit").prop("disabled", "disabled");
		    		jQuery(".rupenda-usaha-kecil-edit").prop("disabled", "disabled");
		    		jQuery(".rupenda-jadwal-pekerjaan-penyedia-edit").addClass("hidden-show");
			    	jQuery(".rupenda-real-pelaksanaan-pekerjaan-awal-edit").val(JSON[0][35]);
			    	jQuery(".rupenda-pelaksanaan-pekerjaan-awal-edit").datepicker('update', JSON[0][35]);
			    	jQuery(".rupenda-pelaksanaan-pekerjaan-akhir-edit").datepicker('update', JSON[0][36]);
		    	}

			    jQuery(".rupenda-umumkan-paket-edit").val(JSON[0][29]).change();
		    	
		    },
		    error     : function(jqXHR, textStatus, errorThrown){
		        console.log('failed');
		    }
	    });
	}

	// ---------------- Pra DIPA/DPA ---------------- //
	jQuery(document).on("change", ".rupenda-pra-dipa-edit", function(){
		if (jQuery(this).val() == 0) {
			jQuery(".rupenda-nomor-renja-edit").removeAttr("readonly", "readonly");
		}
		if (jQuery(this).val() == 1) {
			jQuery(".rupenda-nomor-renja-edit").attr("readonly", "readonly");
		}
	});

	// ---------------- Modal Swakelola ---------------- //
	jQuery(document).on("click", ".smep-rupenda-swakelola-btn", function(){
		jQuery(".smep-rupenda-swakelola-modal").modal("show");
		return false;
	});
	jQuery(document).on("click", ".smep-rupenda-swakelola-close-modal-btn", function(){
		jQuery(".smep-rupenda-swakelola-modal").modal("hide");
		return false;
	});
</script>