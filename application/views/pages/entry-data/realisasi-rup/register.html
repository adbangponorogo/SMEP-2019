<div class="col-md-12">
	<div class="box box-primary">
		<div class="box-header with-border">
			<div class="col-md-12">
				<h3 class="box-title">Form Data</h3>
				<div class="box-tools pull-right">
			        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-plus"></i></button>
			    </div>
			</div>
		</div>
		<div class="box-body">
			<form action="#" method="POST" class="sirupenda-register-form">
				<div class="col-md-12">
					<div class="col-md-12">
						<h3 class="page-header" style="font-size: 15px;"><b>TEPRA</b></h3>
						<div class="col-md-6" style="padding: 0px 5px;">
							<div class="form-group">
								<label>Program</label>
								<input type="text" class="form-control sirupenda-program-reg" placeholder="" readonly="readonly">
							</div>
							<div class="form-group">
								<label>Kegiatan</label>
								<input type="text" class="form-control sirupenda-kegiatan-reg" readonly="readonly">
							</div>
							<div class="form-group">
								<label>Nama Paket</label>
								<input type="text" class="form-control sirupenda-nama-paket-reg" readonly="readonly">
							</div>
							<div class="form-group">
								<label>Pagu Paket</label>
								<input type="text" class="form-control sirupenda-pagu-paket-reg" readonly="readonly">
								<input type="hidden" name="pagu_paket" class="sirupenda-real-pagu-paket-reg">
							</div>
							<div class="form-group">
								<label>Sumber Dana</label>
								<input type="text" class="form-control sirupenda-sumber-dana-reg" readonly="readonly">
							</div>
							<div class="form-group">
								<label>Jenis Belanja</label>
								<input type="text" class="form-control sirupenda-jenis-belanja-reg" readonly="readonly">
							</div>
							<div class="form-group">
								<label>Jenis Pengadaan (TEPRA)</label>
								<input type="text" class="form-control sirupenda-jenis-pengadaan-reg" readonly="readonly">
							</div>
							<div class="form-group">
								<label>Metode Pemilihan (TEPRA)</label>
								<input type="text" class="form-control sirupenda-metode-pemilihan-reg" readonly="readonly">
							</div>
						</div>
						<div class="col-md-6" style="padding: 0px 5px;">
							<div class="form-group">
								<label>Tanggal Pencairan&nbsp;
									<i class="fa fa-exclamation-circle" style="color: #d33724;"></i>
								</label>
								<input type="text" name="tanggal_pencairan" class="form-control month-picker sirupenda-tanggal-pencairan-reg" placeholder="Pencairan">
							</div>
							<div class="form-group">
								<label>Realisasi Keuangan (Rp)&nbsp;
									<i class="fa fa-exclamation-circle" style="color: #d33724;"></i>
								</label>
								<input type="number" name="realisasi_keuangan" class="form-control sirupenda-realisasi-keuangan-reg" min="0" placeholder="0" value="0">
								<input type="hidden" class="sirupenda-sisa-pagu-paket-reg">
							</div>
							<div class="form-group">
								<label>Presentase Realisasi Fisik (%)&nbsp;
									<i class="fa fa-exclamation-circle" style="color: #d33724;"></i>
								</label>
								<div class="input-group">
									<input type="text" name="realisasi_fisik" class="form-control sirupenda-realisasi-fisik-reg" value="0">
									<div class="input-group-addon smep-sirupenda-register-count-realisasi-fisik-btn" data-toggle="tooltip" data-placement="top" title="Lihat Realisasi Fisik" style="cursor: pointer;">
										<i class="fa fa-calculator"></i>
									</div>
								</div>
							</div>
							
							<div class="form-group">
								<label>Nomor Bukti&nbsp;
									<i class="fa fa-exclamation-circle" style="color: #d33724;"></i>
								</label>
								<input type="text" name="nomor_bukti" class="form-control sirupenda-nomor_bukti-edit" placeholder="Nomor SP/Kuitansi/Nota">
							</div>

							<div class="form-group">
								<label>Penyedia Swakelola</label>
								<input type="text" name="penyedia_swakelola" class="form-control sirupenda-penyedia_swakelola-edit" placeholder="Penyedia Swakelola">
							</div>

						</div>
					</div>
				</div>
				<div class="col-md-12">
					<div class="col-md-12">
						<h3 class="page-header" style="font-size: 15px;"><b>Riwayat Pengadaan</b></h3>

						<div class="simple-info">Hanya diisi apabila pengadaan menghasilkan Surat Perjanjian Kerja (SPK) / Surat Perjanjian</div>

						<div class="col-md-12" style="padding: 0px;">
							<div class="col-md-4" style="padding: 0px 5px;">
								<div class="form-group">
									<label>H.P.S</label>
									<input type="number" name="nilai_hps" class="form-control sirupenda-nilai-hps-reg" min="0" placeholder="0">
								</div>
								<div class="form-group">
									<label>Jumlah Mendaftar</label>
									<input type="number" name="jumlah_mendaftar" class="form-control sirupenda-jumlah-mendaftar-reg" min="0" placeholder="0" value="1">
								</div>
								<div class="form-group">
									<label>Lulus Pra-Kualifikasi</label>
									<input type="number" name="jumlah_lulus_kualifikasi" class="form-control sirupenda-lulus-kualifikasi-reg" min="0" placeholder="0" value="1">
								</div>
								<div class="form-group">
									<label>Jumlah Menawar</label>
									<input type="number" name="jumlah_menawar" class="form-control sirupenda-jumlah-menawar-reg" min="0" placeholder="0" value="1">
								</div>
								<div class="form-group">
									<label>Lulus Teknis</label>
									<input type="number" name="jumlah_lulus_teknis" class="form-control sirupenda-lulus-teknis-reg" min="0" placeholder="0" value="1">	
								</div>
							</div>
							<div class="col-md-4" style="padding: 0px 5px;">
								<div class="form-group">
									<label>Tanggal Pengumuman</label>
									<input type="text" name="tanggal_pengumuman" class="form-control month-picker sirupenda-tanggal-pengumuman-reg" placeholder="Pengumuman">
								</div>
								<div class="form-group">
									<label>Tanggal Anwijzing</label>
									<input type="text" name="tanggal_anwijzing" class="form-control month-picker sirupenda-tanggal-anwijzing-reg" placeholder="Anwijzing">
								</div>
								<div class="form-group">
									<label>Tanggal Pembukaan Penawaran</label>
									<input type="text" name="tanggal_pembukaan_penawaran" class="form-control month-picker sirupenda-tanggal-pembukaan-penawaran-reg" placeholder="Pembukaan Penawaran">
								</div>
								<div class="form-group">
									<label>Tanggal Klarifikasi & Negosiasi</label>
									<input type="text" name="tanggal_klarifikasi_negosiasi" class="form-control month-picker sirupenda-tanggal-klarifikasi-negosiasi-reg" placeholder="Klarifikasi & Negosiasi">
								</div>
								<div class="form-group">
									<label>Tanggal Kontrak</label>
									<input type="text" name="tanggal_kontrak" class="form-control month-picker sirupenda-tanggal-kontrak-reg" placeholder="Kontrak">
								</div>
								<div class="form-group">
									<label>Tanggal SPMK/SP</label>
									<input type="text" name="tanggal_spmk" class="form-control month-picker sirupenda-tanggal-spmk-reg" placeholder="SPMK/SP">
								</div>
							</div>
							<div class="col-md-4" style="padding: 0px 5px;">
								<div class="form-group">
									<label>No Kontrak</label>
									<input type="text" name="nomor_kontrak" class="form-control sirupenda-nomor-kontrak-reg" placeholder="No. Kontrak">
								</div>
								<div class="form-group">
									<label>Nama Pemenang</label>
									<input type="text" name="nama_pemenang" class="form-control sirupenda-nama-pemenang-reg" placeholder="Nama Pemenang">
								</div>
								<div class="form-group">
									<label>Nilai Kontrak</label>
									<input type="number" name="nilai_kontrak" class="form-control sirupenda-nilai-kontrak-reg" min="0" placeholder="0">
								</div>
								<div class="form-group">
									<label>Sanggah</label>
									<select name="sanggah" class="form-control sirupenda-sanggah-reg select2-option">
										<option value="1">Tanpa Sanggahan</option>
										<option value="2">Sanggah</option>
										<option value="3">Sanggah Banding</option>
										<option value="4">Pengaduan</option>
									</select>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="col-md-12">
					<div class="col-md-12">
						<h3 class="page-header" style="font-size: 15px;"><b>Serah Terima PPK Kepada PA/KPA</b></h3>

						<div class="simple-info">Hanya diisi apabila paket termasuk Belanja Modal</div>

						<div class="col-md-12" style="padding: 0px;">
							<div class="col-md-12" style="padding: 0px">
								<div class="form-group">
									<label>Nomor Surat</label>
									<input type="text" name="nomor_surat" class="form-control sirupenda-nomor-surat-reg" placeholder="Nomor Surat">
								</div>
								<div class="form-group">
									<label>Tanggal Surat</label>
									<input type="text" name="tanggal_surat_serah_terima" class="form-control month-picker sirupenda-tanggal-surat-serah-terima-reg" placeholder="Surat Serah Terima">
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="col-md-12">
					<div class="col-md-12">
						<h3 class="page-header"></h3>
						<div class="col-md-12">
							<div class="form-gorup">
								<input type="hidden" name="id_rup" class="sirupenda-idrup-reg">
								<input type="hidden" name="id_skpd" class="sirupenda-idskpd-reg">
								<input type="hidden" name="tahun" class="sirupenda-tahun-reg">
								<button class="btn btn-primary smep-sirupenda-register-send-btn">Simpan</button>
								<button class="btn btn-danger smep-sirupenda-register-cancel-btn">Batal</button>
							</div>
						</div>
					</div>
				</div>
			</form>
		</div>
	</div>
</div>

<!-- Javascript -->
<script type="text/javascript">
	jQuery(".month-picker").datepicker({
		format		: 'dd-mm-yyyy',
		viewMode	: 'dates',
		minViewMode	: 'dates'
	});

	// --------------- Year Data --------------- //
    jQuery(".sirupenda-tahun-reg").val(jQuery(".smep-year-value").val());

	// ---------------- Users PPK ---------------- //
	jQuery(".sirupenda-idrup-reg").val(jQuery(".smep-unique-token").val());
	jQuery(".sirupenda-idskpd-reg").val(jQuery(".smep-skpd-main").val());

	// --------------- Default Select2 --------------- //
	jQuery(".select2-option").select2();

	// ---------------- Data RUP ---------------- //
	endaSiRUPRUPData();
	function endaSiRUPRUPData() {
	    jQuery.ajax({
		    type      : 'AJAX',
		    method    : 'GET',
		    url       : 'entry-data/realisasi-rup/rup-data/'+jQuery(".smep-unique-token").val(),
		    async     : true,
		    dataType  : 'JSON',
		    success   : function(JSON){
		    	jQuery(".sirupenda-program-reg").val(JSON[0][0]);
		    	jQuery(".sirupenda-kegiatan-reg").val(JSON[0][1]);
		    	jQuery(".sirupenda-nama-paket-reg").val(JSON[0][2]);
		    	jQuery(".sirupenda-pagu-paket-reg").val(JSON[0][3]);
		    	jQuery(".sirupenda-sumber-dana-reg").val(JSON[0][6]);
		    	jQuery(".sirupenda-jenis-pengadaan-reg").val(JSON[0][7]);
		    	jQuery(".sirupenda-metode-pemilihan-reg").val(JSON[0][8]);
		    	jQuery(".sirupenda-jenis-belanja-reg").val(JSON[0][9]);
		    	
		    	jQuery(".sirupenda-real-pagu-paket-reg").val(JSON[0][4]);
		    	jQuery(".sirupenda-realisasi-keuangan-reg").val(JSON[0][5]);
		    	jQuery(".sirupenda-sisa-pagu-paket-reg").val(JSON[0][5]);
		    	jQuery(".sirupenda-hps-reg").val(JSON[0][4]);
		    },
		    error     : function(jqXHR, textStatus, errorThrown){
		        location.href = window.location.href+"app/auth/sessionPage";
		    }
	    });
	}

	// ---------------- Data Realisasi ---------------- //
	endaSiRUPRealisasiData();
	function endaSiRUPRealisasiData() {
	    jQuery.ajax({
		    type      : 'AJAX',
		    method    : 'GET',
		    url       : 'entry-data/realisasi-rup/add-data/'+jQuery(".smep-unique-token").val(),
		    async     : true,
		    dataType  : 'JSON',
		    success   : function(JSON){
		    	jQuery(".sirupenda-nilai-hps-reg").val(JSON[0][4]);
		    	jQuery(".sirupenda-nilai-kontrak-reg").val(JSON[0][5]);
		    	jQuery(".sirupenda-jumlah-mendaftar-reg").val(JSON[0][6]);
		    	jQuery(".sirupenda-lulus-kualifikasi-reg").val(JSON[0][7]);
		    	jQuery(".sirupenda-jumlah-menawar-reg").val(JSON[0][8]);
		    	jQuery(".sirupenda-lulus-teknis-reg").val(JSON[0][9]);
		    	jQuery(".sirupenda-tanggal-pengumuman-reg").val(JSON[0][10]);
		    	jQuery(".sirupenda-tanggal-anwijzing-reg").val(JSON[0][11]);
		    	jQuery(".sirupenda-tanggal-pembukaan-penawaran-reg").val(JSON[0][12]);
		    	jQuery(".sirupenda-tanggal-klarifikasi-negosiasi-reg").val(JSON[0][13]);
		    	jQuery(".sirupenda-tanggal-kontrak-reg").val(JSON[0][14]);
		    	jQuery(".sirupenda-tanggal-spmk-reg").val(JSON[0][15]);
		    	jQuery(".sirupenda-nomor-kontrak-reg").val(JSON[0][16]);
		    	jQuery(".sirupenda-nama-pemenang-reg").val(JSON[0][17]);
		    	jQuery(".sirupenda-sanggah-reg").val(JSON[0][18]);
		    	jQuery(".sirupenda-nomor-surat-reg").val(JSON[0][19]);
		    	jQuery(".sirupenda-tanggal-surat-serah-terima-reg").val(JSON[0][20]);
		    },
		    error     : function(jqXHR, textStatus, errorThrown){
		        location.href = window.location.href+"app/auth/sessionPage";
		    }
	    });
	}

	// ---------------- Count Realisasi Fisik ---------------- //
	jQuery("[data-toggle='tooltip']").tooltip();
	jQuery(document).on("click", ".smep-sirupenda-register-count-realisasi-fisik-btn", function(){
		var realisasi_keuangan = parseInt(jQuery(".sirupenda-realisasi-keuangan-reg").val());
		var pagu_paket = parseInt(jQuery(".sirupenda-real-pagu-paket-reg").val());
		var hasil_fisik = (realisasi_keuangan/pagu_paket)*100;
		jQuery(".sirupenda-realisasi-fisik-reg").val(parseFloat(hasil_fisik).toFixed(2));
		return false;
	});


	// ---------------- Cancel Button ---------------- //
	jQuery(document).on("click", ".smep-sirupenda-register-cancel-btn", function(){
		jQuery(".smep-content-page").load("entry-data/realisasi-rup/realisasi-page");
		return false;
	});
</script>